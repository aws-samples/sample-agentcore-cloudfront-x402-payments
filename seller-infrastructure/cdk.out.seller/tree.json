{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.235.1"},"children":{"X402SellerStack":{"id":"X402SellerStack","path":"X402SellerStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.235.1"},"children":{"ContentBucket":{"id":"ContentBucket","path":"X402SellerStack/ContentBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/ContentBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["GET","HEAD"],"allowedOrigins":["*"]}]},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"}]}}},"Policy":{"id":"Policy","path":"X402SellerStack/ContentBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/ContentBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"ContentBucket52D4B12C"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["ContentBucket52D4B12C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ContentBucket52D4B12C","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Effect":"Allow","Principal":{"CanonicalUser":[{"Fn::GetAtt":["X402DistributionOrigin10S3Origin4591CC72","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin1S3OriginEF17526E","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin2S3Origin860F3FDA","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin3S3Origin947C3E0B","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin4S3Origin95849327","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin5S3Origin4FDEE750","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin6S3Origin40B6BCFF","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin7S3OriginBDE0F397","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin8S3OriginD5BF6D41","S3CanonicalUserId"]},{"Fn::GetAtt":["X402DistributionOrigin9S3Origin8744324D","S3CanonicalUserId"]}]},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["ContentBucket52D4B12C","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"X402SellerStack/ContentBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.235.1","metadata":[]},"children":{"Default":{"id":"Default","path":"X402SellerStack/ContentBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"X402SellerStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.235.1"},"children":{"Staging":{"id":"Staging","path":"X402SellerStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.1"}},"Role":{"id":"Role","path":"X402SellerStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}},"Handler":{"id":"Handler","path":"X402SellerStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}}}},"PaymentVerifier":{"id":"PaymentVerifier","path":"X402SellerStack/PaymentVerifier","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.experimental.EdgeFunction","version":"2.235.1","metadata":[]},"children":{"Fn":{"id":"Fn","path":"X402SellerStack/PaymentVerifier/Fn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.235.1","metadata":[]},"children":{"ServiceRole":{"id":"ServiceRole","path":"X402SellerStack/PaymentVerifier/Fn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.235.1","metadata":[]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"X402SellerStack/PaymentVerifier/Fn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.235.1","metadata":[]}},"Resource":{"id":"Resource","path":"X402SellerStack/PaymentVerifier/Fn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":["edgelambda.amazonaws.com","lambda.amazonaws.com"]}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"X402SellerStack/PaymentVerifier/Fn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/PaymentVerifier/Fn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ContentBucket52D4B12C","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ContentBucket52D4B12C","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"PaymentVerifierFnServiceRoleDefaultPolicy1ECA63AA","roles":[{"Ref":"PaymentVerifierFnServiceRoleD1C7220A"}]}}}}}}},"Code":{"id":"Code","path":"X402SellerStack/PaymentVerifier/Fn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.235.1"},"children":{"Stage":{"id":"Stage","path":"X402SellerStack/PaymentVerifier/Fn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.235.1"}},"AssetBucket":{"id":"AssetBucket","path":"X402SellerStack/PaymentVerifier/Fn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.235.1","metadata":[]}}}},"Resource":{"id":"Resource","path":"X402SellerStack/PaymentVerifier/Fn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-633890776779-us-east-1","s3Key":"2ffbf8c635c486b61718b336a3f703fc3cc13bd3262e9371a0937c39d7327ad1.zip"},"handler":"payment-verifier.handler","memorySize":128,"role":{"Fn::GetAtt":["PaymentVerifierFnServiceRoleD1C7220A","Arn"]},"runtime":"nodejs20.x","timeout":5}}},"CurrentVersion":{"id":"CurrentVersion","path":"X402SellerStack/PaymentVerifier/Fn/CurrentVersion","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Version","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/PaymentVerifier/Fn/CurrentVersion/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnVersion","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Version","aws:cdk:cloudformation:props":{"functionName":{"Ref":"PaymentVerifierFnC9BBC010"}}}}}}}}}},"PaymentApiCachePolicy":{"id":"PaymentApiCachePolicy","path":"X402SellerStack/PaymentApiCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/PaymentApiCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"X402-PaymentApi-NoCache","comment":"No caching for x402 payment-protected endpoints","minTtl":0,"maxTtl":0,"defaultTtl":0,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":false,"enableAcceptEncodingBrotli":false,"queryStringsConfig":{"queryStringBehavior":"none"}}}}}}}},"StaticAssetsCachePolicy":{"id":"StaticAssetsCachePolicy","path":"X402SellerStack/StaticAssetsCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/StaticAssetsCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"X402-StaticAssets-LongCache","comment":"Long-term caching for static assets that do not require payment","minTtl":1,"maxTtl":31536000,"defaultTtl":86400,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true,"queryStringsConfig":{"queryStringBehavior":"none"}}}}}}}},"PublicContentCachePolicy":{"id":"PublicContentCachePolicy","path":"X402SellerStack/PublicContentCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/PublicContentCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"X402-PublicContent-ShortCache","comment":"Short-term caching for public content pages","minTtl":1,"maxTtl":3600,"defaultTtl":300,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true,"queryStringsConfig":{"queryStringBehavior":"all"}}}}}}}},"PaymentApiOriginRequestPolicy":{"id":"PaymentApiOriginRequestPolicy","path":"X402SellerStack/PaymentApiOriginRequestPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginRequestPolicy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/PaymentApiOriginRequestPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginRequestPolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginRequestPolicy","aws:cdk:cloudformation:props":{"originRequestPolicyConfig":{"name":"X402-PaymentApi-ForwardHeaders","comment":"Forward payment headers to origin for x402 verification","cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"whitelist","headers":["X-Payment-Signature","Payment-Signature","Content-Type","Accept"]},"queryStringsConfig":{"queryStringBehavior":"all"}}}}}}},"ResponseHeadersPolicy":{"id":"ResponseHeadersPolicy","path":"X402SellerStack/ResponseHeadersPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.ResponseHeadersPolicy","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/ResponseHeadersPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnResponseHeadersPolicy","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::ResponseHeadersPolicy","aws:cdk:cloudformation:props":{"responseHeadersPolicyConfig":{"name":"X402-ResponseHeaders","comment":"CORS and x402 payment response headers","corsConfig":{"accessControlAllowCredentials":false,"accessControlAllowHeaders":{"items":["Content-Type","X-Payment-Signature","Payment-Signature","Accept","Origin"]},"accessControlAllowMethods":{"items":["GET","HEAD","OPTIONS"]},"accessControlAllowOrigins":{"items":["*"]},"accessControlExposeHeaders":{"items":["X-PAYMENT-RESPONSE","X-PAYMENT-REQUIRED","X-Request-Id"]},"accessControlMaxAgeSec":3600,"originOverride":true},"customHeadersConfig":{"items":[{"header":"X-Cache-Policy","value":"x402-seller","override":false}]},"securityHeadersConfig":{"contentTypeOptions":{"override":true},"frameOptions":{"frameOption":"DENY","override":true},"referrerPolicy":{"referrerPolicy":"strict-origin-when-cross-origin","override":true},"xssProtection":{"protection":true,"modeBlock":true,"override":true}}}}}}}},"X402Distribution":{"id":"X402Distribution","path":"X402SellerStack/X402Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.235.1","metadata":[]},"children":{"Origin1":{"id":"Origin1","path":"X402SellerStack/X402Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin1/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin1/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin130DC0641"}}}}}}}},"Origin2":{"id":"Origin2","path":"X402SellerStack/X402Distribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin2/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin2/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin25007FF91"}}}}}}}},"Origin3":{"id":"Origin3","path":"X402SellerStack/X402Distribution/Origin3","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin3/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin3/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin38BE0FC53"}}}}}}}},"Origin4":{"id":"Origin4","path":"X402SellerStack/X402Distribution/Origin4","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin4/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin4/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin47F8850AC"}}}}}}}},"Origin5":{"id":"Origin5","path":"X402SellerStack/X402Distribution/Origin5","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin5/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin5/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin5D974A4CC"}}}}}}}},"Origin6":{"id":"Origin6","path":"X402SellerStack/X402Distribution/Origin6","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin6/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin6/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin69CC1D54A"}}}}}}}},"Origin7":{"id":"Origin7","path":"X402SellerStack/X402Distribution/Origin7","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin7/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin7/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin74CE5E241"}}}}}}}},"Origin8":{"id":"Origin8","path":"X402SellerStack/X402Distribution/Origin8","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin8/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin8/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin890F15F7A"}}}}}}}},"Origin9":{"id":"Origin9","path":"X402SellerStack/X402Distribution/Origin9","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin9/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin9/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin9BFF59E97"}}}}}}}},"Origin10":{"id":"Origin10","path":"X402SellerStack/X402Distribution/Origin10","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"S3Origin":{"id":"S3Origin","path":"X402SellerStack/X402Distribution/Origin10/S3Origin","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.235.1","metadata":[]},"children":{"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Origin10/S3Origin/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Identity for X402SellerStackX402DistributionOrigin109C60ABAA"}}}}}}}},"Resource":{"id":"Resource","path":"X402SellerStack/X402Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.235.1"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin130DC0641","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin1S3OriginEF17526E"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin25007FF91","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin2S3Origin860F3FDA"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin38BE0FC53","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin3S3Origin947C3E0B"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin47F8850AC","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin4S3Origin95849327"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin5D974A4CC","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin5S3Origin4FDEE750"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin69CC1D54A","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin6S3Origin40B6BCFF"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin74CE5E241","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin7S3OriginBDE0F397"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin890F15F7A","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin8S3OriginD5BF6D41"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin9BFF59E97","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin9S3Origin8744324D"}]]}}},{"domainName":{"Fn::GetAtt":["ContentBucket52D4B12C","RegionalDomainName"]},"id":"X402SellerStackX402DistributionOrigin109C60ABAA","s3OriginConfig":{"originAccessIdentity":{"Fn::Join":["",["origin-access-identity/cloudfront/",{"Ref":"X402DistributionOrigin10S3Origin4591CC72"}]]}}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"X402SellerStackX402DistributionOrigin130DC0641","allowedMethods":["GET","HEAD","OPTIONS"],"cachedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":{"Ref":"PublicContentCachePolicy472B2771"},"compress":true,"responseHeadersPolicyId":{"Ref":"ResponseHeadersPolicy13DBF9E0"},"viewerProtocolPolicy":"redirect-to-https"},"cacheBehaviors":[{"pathPattern":"/mcp/*","targetOriginId":"X402SellerStackX402DistributionOrigin25007FF91","allowedMethods":["GET","HEAD","OPTIONS"],"cachedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":{"Ref":"PublicContentCachePolicy472B2771"},"compress":true,"responseHeadersPolicyId":{"Ref":"ResponseHeadersPolicy13DBF9E0"},"viewerProtocolPolicy":"redirect-to-https","lambdaFunctionAssociations":[{"lambdaFunctionArn":{"Ref":"PaymentVerifierFnCurrentVersionA4027AC2e55b79e5886b5ae144c9fea69e7b10cb"},"eventType":"viewer-request"}]},{"pathPattern":"/api/*","targetOriginId":"X402SellerStackX402DistributionOrigin38BE0FC53","allowedMethods":["GET","HEAD","OPTIONS"],"cachedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":{"Ref":"PaymentApiCachePolicyE1A19970"},"compress":true,"originRequestPolicyId":{"Ref":"PaymentApiOriginRequestPolicyD2268F22"},"responseHeadersPolicyId":{"Ref":"ResponseHeadersPolicy13DBF9E0"},"viewerProtocolPolicy":"redirect-to-https","lambdaFunctionAssociations":[{"lambdaFunctionArn":{"Ref":"PaymentVerifierFnCurrentVersionA4027AC2e55b79e5886b5ae144c9fea69e7b10cb"},"eventType":"viewer-request"}]},{"pathPattern":"/static/*","targetOriginId":"X402SellerStackX402DistributionOrigin47F8850AC","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":true,"responseHeadersPolicyId":{"Ref":"ResponseHeadersPolicy13DBF9E0"},"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.jpg","targetOriginId":"X402SellerStackX402DistributionOrigin5D974A4CC","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":false,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.png","targetOriginId":"X402SellerStackX402DistributionOrigin69CC1D54A","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":false,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.svg","targetOriginId":"X402SellerStackX402DistributionOrigin74CE5E241","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.css","targetOriginId":"X402SellerStackX402DistributionOrigin890F15F7A","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.js","targetOriginId":"X402SellerStackX402DistributionOrigin9BFF59E97","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":true,"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"*.woff2","targetOriginId":"X402SellerStackX402DistributionOrigin109C60ABAA","allowedMethods":["GET","HEAD"],"cachedMethods":["GET","HEAD"],"cachePolicyId":{"Ref":"StaticAssetsCachePolicyA7AB90E0"},"compress":false,"viewerProtocolPolicy":"redirect-to-https"}],"comment":"x402 Payment-Protected Content Distribution","httpVersion":"http2and3","ipv6Enabled":true,"priceClass":"PriceClass_All"}}}}}},"DistributionDomainName":{"id":"DistributionDomainName","path":"X402SellerStack/DistributionDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"DistributionUrl":{"id":"DistributionUrl","path":"X402SellerStack/DistributionUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"DistributionId":{"id":"DistributionId","path":"X402SellerStack/DistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"ContentBucketName":{"id":"ContentBucketName","path":"X402SellerStack/ContentBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"PaymentApiEndpoint":{"id":"PaymentApiEndpoint","path":"X402SellerStack/PaymentApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"CachePolicySummary":{"id":"CachePolicySummary","path":"X402SellerStack/CachePolicySummary","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.235.1"}},"CDKMetadata":{"id":"CDKMetadata","path":"X402SellerStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"},"children":{"Default":{"id":"Default","path":"X402SellerStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.235.1"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"X402SellerStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.235.1"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"X402SellerStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.235.1"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.5"}}}}}